<!DOCTYPE HTML>
<!--
	Future Imperfect by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title id="titleCheck">ShaRe:port</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />

	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">ShaRe:port</a></h1>
						<nav class="links">
							<ul>
								<li><a href="#">Home</a></li>
								<li><a href="mypage.html">My Page</a></li>
								<li><a id="joinmenu" href="join.html">Join</a></li>
								<li><a id="loginmenu" href="login.html">Log In</a></li>

							</ul>
						</nav>
						<nav class="main">
							<ul>
								<li class="search">
									<a class="fa-search" href="#search">Search</a>
									<form id="search" method="get" action="#">
										<input type="text" name="query" placeholder="Search" />
									</form>
								</li>
								<li class="menu">
									<a class="fa-bars" href="#menu">Menu</a>
								</li>
							</ul>
						</nav>
					</header>



				<!-- Menu -->
					<section id="menu">

						<!-- Search -->
							<section>
								<form class="search" method="get" action="#">
									<input type="text" name="query" placeholder="Search" />
								</form>
							</section>

						<!-- Links -->
							<section>
								<ul class="links">
									<li>
										<a href="#">
											<h3>Home</h3>
											<p>홈화면으로 돌아가기</p>
										</a>
									</li>
									<li>
										<a href="#">
											<h3>My Page</h3>
											<p>마이페이지로 가기</p>
										</a>
									</li>
									<li>
										<a href="upload.html">
											<h3>Upload</h3>
											<p>레포트 업로드 하기</p>
										</a>
									</li>
									<li>
										<a href="#">
											<h3>Customer Service</h3>
											<p>고객센터</p>
										</a>
									</li>
								</ul>
							</section>

						<!-- Actions -->
							<section>
								<ul class="actions stacked">
									<li><a id="loginmenu" href="login.html" class="button large fit">Log In</a></li>
								</ul>
							</section>

					</section>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<article class="post">
								<header>
									<div class="title">
										<h2><a id="reportTitle0" href="report.html">제목</a></h2>
										<p>레포트에 대한 부연설명</p>
									</div>
									<div class="meta">
										<!--<time class="published" datetime="2019-12-01">December 1, 2019</time>-->
										<a href="#" class="author"><span class="name" id="reportWriter0">닉네임</span><img src="images/avatar.jpg" alt="" /></a>
									</div>
								</header>
								<a href="report.html" class="image featured"><img src="images/image2.jpeg" alt="" /></a>

								<footer>
									<ul class="actions">
										<li><a href="report.html" class="button large">더 알아보기</a></li>
									</ul>
									<ul class="stats">
										<li><a href="#">General</a></li>
										<li><a href="#" class="icon solid fa-heart">28</a></li>
										<li><a href="#" class="icon solid fa-comment">128</a></li>
									</ul>
								</footer>
							</article>

						<!-- Post -->
							<article class="post">
								<header>
									<div class="title">
										<h2><a href="single.html" id="reportTitle1">Ultricies sed magna euismod enim vitae gravida</a></h2>
										<p>부제목</p>
									</div>
									<div class="meta">
										<!--<time class="published" datetime="2015-10-25">October 25, 2015</time>-->
										<a href="#" class="author"><span class="name"id="reportWriter1">Jane Doe</span><img src="images/avatar.jpg" alt="" /></a>
									</div>
								</header>
								<a href="single.html" class="image featured"><img src="images/image1.jpeg" alt="" /></a>
							
								<footer>
									<ul class="actions">
										<li><a href="single.html" class="button large">더 알아보기</a></li>
									</ul>
									<ul class="stats">
										<li><a href="#">General</a></li>
										<li><a href="#" class="icon solid fa-heart">28</a></li>
										<li><a href="#" class="icon solid fa-comment">128</a></li>
									</ul>
								</footer>
							</article>



							<ul class="actions pagination">
								<li><a href="" class="disabled button large previous">Previous Page</a></li>
								<li><a href="#" class="button large next">Next Page</a></li>
							</ul>

					</div>

				<!-- Sidebar -->
					<section id="sidebar">

						<!-- Intro -->
							<section>
								<a href="#" class="logo"><img src="images/logo3.png" width="350" height="180" alt="" /></a>
								<header>
									<br>

									<h2>여러분의 레포트를 공유해보세요</h2>

								</header>
							</section>

						<!-- Mini Posts -->
							<section>
								<div class="mini-posts">

									<!-- Mini Post -->
										<article class="mini-post">
											<header>
												<h3><a href="single.html" id="reportTitle2">최근에 올라왔던 레포트</a></h3>
												<!--<time class="published" datetime="2015-10-20">October 20, 2015</time>-->
												<a href="#" class="author"><span class="name"id="reportWriter2">Jane Doe</a>

											</header>
											<a href="single.html" class="image"><img src="images/image3.jpeg" alt="" /></a>
										</article>

									<!-- Mini Post -->
										<article class="mini-post">
											<header>
												<h3><a href="single.html" id="reportTitle3">Rutrum neque accumsan</a></h3>

												<a href="#" class="author"><span class="name"id="reportWriter3">Jane Doe</a>

											</header>
											<a href="single.html" class="image"><img src="images/image4.jpeg" alt="" /></a>
										</article>

									<!-- Mini Post -->
										<article class="mini-post">
											<header>
												<h3><a href="single.html" id="reportTitle4">Odio congue mattis</a></h3>
												<a href="#" class="author"><span class="name"id="reportWriter4">Jane Doe</a>

											</header>
											<a href="single.html" class="image"><img src="images/image5.jpeg" alt="" /></a>
										</article>

									<!-- Mini Post -->
										<article class="mini-post">
											<header>
												<h3><a href="single.html" id="reportTitle5">Enim nisl veroeros</a></h3>
													<a href="#" class="author"><span class="name"id="reportWriter5">Jane Doe</a>
											</header>
											<a href="single.html" class="image"><img src="images/image6.jpeg" alt="" /></a>
										</article>

								</div>
							</section>

						<!-- Posts List -->
							<!-- <section>
								<ul class="posts">
									<li>
										<article>
											<header>
												<h3><a href="single.html">미니포스트 레포트 제목</a></h3>
												<time class="published" datetime="2015-10-20">October 20, 2015</time>
											</header>
											<a href="single.html" class="image"><img src="images/pic08.jpg" alt="" /></a>
										</article>
									</li>
									<li>
										<article>
											<header>
												<h3><a href="single.html">Convallis maximus nisl mattis nunc id lorem</a></h3>
												<time class="published" datetime="2015-10-15">October 15, 2015</time>
											</header>
											<a href="single.html" class="image"><img src="images/pic09.jpg" alt="" /></a>
										</article>
									</li>
									<li>
										<article>
											<header>
												<h3><a href="single.html">Euismod amet placerat vivamus porttitor</a></h3>
												<time class="published" datetime="2015-10-10">October 10, 2015</time>
											</header>
											<a href="single.html" class="image"><img src="images/pic10.jpg" alt="" /></a>
										</article>
									</li>
									<li>
										<article>
											<header>
												<h3><a href="single.html">Magna enim accumsan tortor cursus ultricies</a></h3>
												<time class="published" datetime="2015-10-08">October 8, 2015</time>
											</header>
											<a href="single.html" class="image"><img src="images/pic11.jpg" alt="" /></a>
										</article>
									</li>
									<li>
										<article>
											<header>
												<h3><a href="single.html">Congue ullam corper lorem ipsum dolor</a></h3>
												<time class="published" datetime="2015-10-06">October 7, 2015</time>
											</header>
											<a href="single.html" class="image"><img src="images/pic12.jpg" alt="" /></a>
										</article>
									</li>
								</ul>
							</section> -->

						<!-- About -->
							<section class="blurb">
								<h2>About</h2>
								<p>The platform aims to improve the existing report sales platform by introducing three technologies. First, it increases the efficiency of the transaction by introducing a partial transaction system in which users can only buy what they want from the report. Second, it will be built in the form of smart contracts to enhance the credibility and transparency of transactions. Third, we would like to introduce a new scoring system that can increase the reliability of the evaluations that users make on the report compared to the system that calculates ratings by giving existing stars.</p>
								<ul class="actions">
									<li><a href="#" class="button">Learn More</a></li>
								</ul>
							</section>

						<!-- Footer -->
							<section id="footer">
								<ul class="icons">
									<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
									<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
									<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
									<li><a href="#" class="icon solid fa-rss"><span class="label">RSS</span></a></li>
									<li><a href="#" class="icon solid fa-envelope"><span class="label">Email</span></a></li>
								</ul>
								<p class="copyright">&copy; Untitled. Design: <a href="http://html5up.net">HTML5 UP</a>. Images: <a href="http://unsplash.com">Unsplash</a>.</p>
							</section>

					</section>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="./js/time.js"></script>
	    <script src="./js/sessionCheck.js"></script>
			<script src="https://www.gstatic.com/firebasejs/4.10.1/firebase.js"></script>
<script>



	var firebaseEmailAuth; //파이어베이스 email 인증 모듈 전역변수
	var firebaseDatabase; //파이어베이스 db 모듈 전역변수
	var name; //유저 이름
	var loginUserKey; //로그인한 유저의 부모 key
	var userInfo; //로그인한 유저의 정보 object type
	var comment;

	//파이어 베이스 초기화 코드
	var config = {
		apiKey: "AIzaSyBealjJBHfcbRlptxLcAoxdhpSbFswQOZg",
		authDomain: "shareport-e85b2.firebaseapp.com",
		databaseURL: "https://shareport-e85b2.firebaseio.com",
		projectId: "shareport-e85b2",
		storageBucket: "shareport-e85b2.appspot.com",
		messagingSenderId: "978150427508",
		appId: "1:978150427508:web:115635132ce73e50223a21",
		measurementId: "G-1SB8TYEZ99"
	};
	//파이어베이스 초기화
	firebase.initializeApp(config);
	//인증모듈 객체 가져오기
	firebaseEmailAuth = firebase.auth();
	//데이터베이스 모듈객체 가져오기
	firebaseDatabase = firebase.database();

	//레포트 제목들
	var nameArr = [];
	var writerArr = [];
	var len=0;
	var messageRef = firebaseDatabase.ref("report");

	// 레포트 다 불러와서 이름, 제작자 출력하는 함수
	messageRef.once('value', function(snapshot) {
	   snapshot.forEach(function(childSnapshot) {
	      // 사용자
	      var childKey = childSnapshot.key;
	      // 사용자 데이터
	      var childData = childSnapshot.val();
	          nameArr[len] = childKey;

						console.log(nameArr[len]);
						document.getElementById("reportTitle"+len).textContent = nameArr[len];

					 var writer = childData.writer;

	         writerArr[len] = writer;
					 console.log(writerArr[len]);
					 	document.getElementById("reportWriter"+len).textContent = writerArr[len];
					 len++;
	   });
	});

	console.log(nameArr[0]);

	console.log('name', nameArr);
	console.log('writer', writerArr);
	userSessionCheck();
	// document.getElementById("repotTitle0").textContent = "반가워요! " + nameArr[0].val().name;
	// document.getElementById("repotTitle0").innerHTML(nameArr);
// document.getElementById("reportTitle0").textContent = snapshot.val().nameArr[0] ;
// 	//세션 체크 함수
// 	userSessionCheck();
// 	$(document).ready(function() {
//
// 		//메인화면  쓰기버튼 눌렀을 때
// 		$(document).on('click', '.write', function() {
//
// 			//네비게이션 메뉴의 text값 가져오기 - 자바스크립트 dom 방식으로 가져왔다.
// 			var seseionCheck = document.getElementById("loginmenu").textContent;
//
// 			//내가 쓴글 가져오기 - jquery방식으로 가져왔다.
// 			//comment = $('#comment').val();
// 			if (seseionCheck == "로그아웃") {
// 				//저장하기
// 				saveReplys();
// 			} else {
// 				alert("로그인이 필요한 서비스 입니다.")
// 			}
// 		});
// 	});
//
//
//
// 	//쓰기 버튼 눌렀을 때 호출 되는 함수
// 	function saveReplys() {
//
// 		//thanks 라는 테이블을 만들고 하위 데이터에 유저 아이디를 넣어준다. 그곳에 push로 가상의 키를 넣고, 객체를 넣어준다.!!!!
// 		var replyRef = firebaseDatabase.ref("comments");
//
// 		// 해당 객체의 key 값이 자동으로 생성된다.
// 		var reply = replyRef.push(); // 해당 객체의 key 값이 자동으로 생성된다.
//
// 		//로그인한 유저의 pk값,이름,내용,시간 데이터
// 		var obj = {
// 			userkey: loginUserKey,
// 			name: name,
// 			comment: comment,
// 			createtime: currentTime
// 		};
// 		//위에서 thankRef.push()로 만들어진 key아래 위치에 저장해준다.
// 		reply.set(obj);
//
// 		alert("등록완료");
//
// 		$('#comment').val("");
// 	}
//
//
//
// 	function replyList() {
// 		alert("CommentList")
// 		//로그인한 유저라면
// 		if (loginUserKey) {
// 			alert(loginUserKey)
// 			//글이 저장된 레퍼런스 값 가져오기
// 			var replyRef = firebaseDatabase.ref('comments');
// 			//on 함수로 글 목록가져오기
// 			replyRef.on('child_added', on_reply_list)
// 		} else {
// 			alert("실패")
// 			return;
// 		}
// 	}
//
// 	//땡스리스트 thanks 테이블의 thanks 키 들을 연속적으로 가져온다.
// 	function on_reply_list(data) {
// 		console.log("on_reply_list() 함수안으로 들어왔습니다 리스트를 가져오겠습니다")
// 		var key = data.key;
//
// 		var Data = data.val();
// 		var comment = Data.comment;
// 		var createtime = Data.createtime;
// 		var name = Data.name;
// 		var userkey = Data.userkey;
//
// 		//alert(comment +"/"+ createtime + "/"+name +"/"+userkey);
//
//
// 		//감사리스트 동적으로 붙이기
// 		var html =
// 			"<div class=\"media\" id='" + userkey + "' onclick=\"show_user_page(this.id)\">" +
// 			"<div class=\"media-body\">" +
// 			"<h4 class=\"media-heading\">" + name +
// 			" <span STYLE=\"color: green; font-size: 5pt\">" + createtime + "</span></h4>" +
// 			"<p>" + comment + "</p></div></div>" +
// 			"<hr>";
//
// 		$(".replyList").append(html);
//
// 	}
</script>


	</body>
</html>
